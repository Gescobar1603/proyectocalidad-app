<div class="container mt-5 mb-5">
  <div class="card">
    <div class="card-header text-center">
      <h1><strong>Reportes Gerenciales</strong></h1>
    </div>
    <div class="card-body">
          <div class="input-group">
            <div class="col-md-5 mb-4">
              <label>Sucursal</label>
              <div class="input-group">
              <input type="text" class="form-control"  disabled="disabled">
              <div class="input-group-append">
                <button class="btn btn-primary" type="button" data-toggle="modal" data-target="#modalSucursal">Elegir Sucursal</button>
              </div>
              </div>
            </div>
            <div class="col-md-5 mb-4">
              <label>Categoria</label>
              <div class="input-group">
                <input type="text" class="form-control" disabled="disabled" >
                <div class="input-group-append">
                  <button class="btn btn-primary" type="button" data-toggle="modal" data-target="#modalCategoria">Elegir Categoria</button>
                </div>
              </div>
            </div>
        </div>
    </div>
  </div>
</div>

<div class="modal fade" id="modalSucursal">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <strong>Elegir Sucursal</strong>
        <button type="button" class="close"  aria-label="Close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="table-responsive" >
        <div class="card-body">
          <table class="table table-bordered table-hover mt-1 mb-1">
            <thead class="thead-dark text-center">
              <tr>
                <th>Nombre</th>
                <th>Codigo</th>
                <th>Direccion</th>
                <th>Accion</th>
              </tr>
            </thead>
            <tbody class="text-center">
              <tr *ngFor="let sucursal of sucursales">
                <td>{{sucursal.nombre}}</td>
                <td>{{sucursal.codigo}}</td>
                <td>{{sucursal.direccion}}</td>
                <td><button class="btn btn-success" name="Elejir" (click)="reportarPaquetesDeSucursal(sucursal)"type="button" data-toggle="modal" data-target="#modalReporteSucursal" aria-label="Close" data-dismiss="modal">Elegir</button></td>
            </tbody>
          </table>
        </div>
        </div>
       </div>
      </div>
      </div>
</div>

<div class="modal fade" id="modalCategoria">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <strong>Elegir Categoria</strong>
        <button type="button" class="close"  aria-label="Close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="table-responsive" >
        <div class="card-body">
          <table class="table table-bordered table-hover mt-1 mb-1">
            <thead class="thead-dark text-center">
              <tr>
                <th>Tipo</th>
                <th>Costo</th>
                <th>Peso Maximo</th>
                <th>Peso Minimo</th>
                <th>accion</th>
              </tr>
            </thead>
            <tbody class="text-center">
              <tr *ngFor="let categoria of categorias">
                <td>{{categoria.tipoCategoria}}</td>
                <td>{{categoria.costo}}</td>
                <td>{{categoria.pesoMaximo}}</td>
                <td>{{categoria.pesoMinimo}}</td>
                <td><button class="btn btn-success" name="Elejir" (click)="reportarPaquetesDeCategoria(categoria)" aria-label="Close" data-dismiss="modal" type="button" data-toggle="modal" data-target="#modalReporteCategoria" >Elegir</button></td>
            </tbody>
          </table>
        </div>
        </div>
       </div>
      </div>
      </div>
</div>


<div class="modal fade" id="modalReporteSucursal">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <strong>Reporte Por Sucursal</strong>
        <button type="button" class="close"  aria-label="Close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <table class="table table-bordered table-hover">
          <thead class="thead-dark text-center">
            <tr>
              <th>Codigo</th>
              <th>Descripcion</th>
              <th>Fragilidad</th>
              <th>Peso(Kg)</th>
              <th>Precio Del Paquete</th>
            </tr>
          </thead>
          <tbody class="text-center">
            <tr *ngFor="let paquete of paquetesSucursal">
              <td>{{paquete.codigo}}</td>
              <td>{{paquete.descripcion}}</td>
              <td>
                <div *ngIf="paquete.fragilidad == true else noFragil">
                  <label class="bg-success btn-circle">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check text-white" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/>
                    </svg>
                  </label>
                </div>
                <ng-template #noFragil>
                  <label class="bg-danger btn-circle">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x text-white" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                    </svg>
                  </label>
                </ng-template>
              </td>
              <td>{{paquete.peso}}</td>
              <td>{{paquete.precioPaquete}}</td>
          </tbody>
        </table>
        <div class="card-header text-center">
          <h5>Ingreso Total<span class="badge badge-secondary">{{ingresoTotalSucursal}}</span></h5>
        </div>
       </div>
      </div>
    </div>
</div>

<div class="modal fade" id="modalReporteCategoria">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <strong>Reporte Por Categoria</strong>
        <button type="button" class="close"  aria-label="Close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <table class="table table-bordered table-hover">
          <thead class="thead-dark text-center">
            <tr>
              <th>Codigo</th>
              <th>Descripcion</th>
              <th>Fragilidad</th>
              <th>Peso(Kg)</th>
              <th>Precio Del Paquete</th>
            </tr>
          </thead>
          <tbody class="text-center">
            <tr *ngFor="let paquete of paquetesCategoria">
              <td>{{paquete.codigo}}</td>
              <td>{{paquete.descripcion}}</td>
              <td>
                <div *ngIf="paquete.fragilidad == true else noFragil">
                  <label class="bg-success btn-circle">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check text-white" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/>
                    </svg>
                  </label>
                </div>
                <ng-template #noFragil>
                  <label class="bg-danger btn-circle">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x text-white" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                    </svg>
                  </label>
                </ng-template>
              </td>
              <td>{{paquete.peso}}</td>
              <td>{{paquete.precioPaquete}}</td>
          </tbody>
        </table>
        <div class="card-header text-center">
          <h5>Ingreso Total<span class="badge badge-secondary">{{ingresoTotalCategoria}}</span></h5>
        </div>
       </div>
      </div>
    </div>
</div>
